<h2>userTask</h2>
<h3>Description</h3>
<p>An executable task that is performed by a user.</p>
<h3>Identifier</h3>
<p>Simple, the ID of the object (a long value)</p>
<h3>Parameters</h3>
<p>None</p>
<h3>Representation</h3>
<pre><code>{
&quot;displayDescription&quot;:&quot;_the human readable task description (string)_&quot;, 
&quot;executedBySubstitute&quot;:&quot;_the id (long) of the user who really performed this task in case where a substitute did it, or 0 if the task was not performed by a substitute_&quot;, 
&quot;processId&quot;:&quot;_the process id (long) that is associated with this task_&quot;, 
&quot;state&quot;:&quot;_the current state of the task (string, for example, ready, completed, failed)_&quot;, 
&quot;rootContainerId&quot;:&quot;_the root process id (long) of the root case that is associated with this task_&quot;, 
&quot;type&quot;:&quot;USER_TASK&quot;, 
&quot;assigned_id&quot;:&quot;_the user id (long) that this task is assigned to, or 0 if it is unassigned_&quot;, 
&quot;assigned_date&quot;:&quot;_the date ('yyyy-MM-dd HH:mm:ss.SSS') when this task was assigned to the assigned user due, for example '2014-10-17 16:05:42.626'_&quot;, 
&quot;id&quot;:&quot;_the task id (long)_&quot;, 
&quot;executedBy&quot;:&quot;_the id (long) of the user who executed the task, or 0 if the task has not been executed_&quot;, 
&quot;caseId&quot;:&quot;_the id (long) of the case_&quot;, 
&quot;priority&quot;:&quot;_the priority (string) of the current task_&quot;, 
&quot;actorId&quot;:&quot;_the id (long) of the actor that can execute this task, null otherwise_&quot;, 
&quot;description&quot;:&quot;_the task description (string)_&quot;, 
&quot;name&quot;:&quot;_the task name (string)_&quot;, 
&quot;reached_state_date&quot;:&quot;_the date ('yyyy-MM-dd HH:mm:ss.SSS') when this task reached the current state, for example '2014-10-17 16:05:42.626'_&quot;, 
&quot;displayName&quot;:&quot;_the display name (string) of this task_&quot;, 
&quot;dueDate&quot;:&quot;_the date ('yyyy-MM-dd HH:mm:ss.SSS') when this task is due, for example '2014-10-17 16:05:42.626'_&quot;, 
&quot;last_update_date&quot;:&quot;_the date ('yyyy-MM-dd HH:mm:ss.SSS') when this task was last updated, for example '2014-10-17 16:05:42.626'_&quot;
} 
</code></pre>
<h3>Methods</h3>
<p>The methods used for this resource are:</p>
<ul>
<li>GET - Retrieve a userTask, search for userTask objects</li>
<li>POST - Execute a task with contract</li>
<li>PUT - Update a userTask</li>
</ul>
<h2>Actions</h2>
<h3>Retrieve a userTask</h3>
<p>Request url
http://../API/bpm/userTask/<em>userTaskId</em></p>
<p>Request method</p>
<p>GET</p>
<p>Request payload</p>
<p>empty</p>
<p>Response payload</p>
<p>A userTask object</p>
<h4>Example</h4>
<p>Get the userTask with id 20004.
Request url
GET |/API/bpm/userTask/20004</p>
<p>Response</p>
<pre><code>{
&quot;displayDescription&quot;:&quot;&quot;,
&quot;executedBySubstitute&quot;:&quot;0&quot;,
&quot;processId&quot;:&quot;5826139717723008213&quot;,
&quot;state&quot;:&quot;ready&quot;,
&quot;rootContainerId&quot;:&quot;1002&quot;,
&quot;type&quot;:&quot;USER_TASK&quot;,
&quot;assigned_id&quot;:&quot;&quot;,
&quot;assigned_date&quot;:&quot;&quot;,
&quot;id&quot;:&quot;20004&quot;,
&quot;executedBy&quot;:&quot;0&quot;,
&quot;caseId&quot;:&quot;1002&quot;,
&quot;priority&quot;:&quot;normal&quot;,
&quot;actorId&quot;:&quot;102&quot;,
&quot;description&quot;:&quot;&quot;,
&quot;name&quot;:&quot;Analyse case&quot;,
&quot;reached_state_date&quot;:&quot;2014-09-05 11:11:30.808&quot;,
&quot;displayName&quot;:&quot;Analyse case&quot;,
&quot;dueDate&quot;:&quot;2014-09-05 12:11:30.775&quot;,
&quot;last_update_date&quot;:&quot;2014-09-05 11:11:30.808&quot;
}
</code></pre>
<h3>Update a userTask</h3>
<p>Fields that can be updated are <code>assignedId</code> and <code>state</code>. The only value that can be set for the state is &quot;skipped&quot;. You only need to specify the fields that are to be updated.
Request url
/API/bpm/userTask/<em>userTaskId</em></p>
<p>Request method</p>
<p>PUT</p>
<p>Request payload</p>
<p>{&quot;assigned_id&quot; : &quot;id of new user&quot;, &quot;state&quot;:&quot;skipped&quot;}</p>
<p>Response payload</p>
<p>empty</p>
<h4>Example</h4>
<p>Assign userTask with id 20004 to the user with id 21.
Request url
PUT |/API/bpm/userTask/20004</p>
<p>Request payload</p>
<pre><code>{&quot;assigned_id&quot; : &quot;21&quot;}
</code></pre>
<h3>Retrieve the task contract</h3>
<p>Task contract elements can be retrived client side.
Request url
/API/bpm/userTask/<em>userTaskId</em>/contract</p>
<p>Request method</p>
<p>GET</p>
<p>Response payload</p>
<p>The task contract elements</p>
<h4>Example</h4>
<p>Retrieve the contract for the task 20004.
Request url
GET |/API/bpm/userTask/20004/contract</p>
<p>Response</p>
<pre><code>{  
   &quot;constraints&quot;:[  
      {  
         &quot;name&quot;:&quot;ticket_comment&quot;,
         &quot;expression&quot;:&quot;ticket_comment!=null &amp;&amp; !ticket_comment.toString().isEmpty()&quot;,
         &quot;explanation&quot;:&quot;input ticket_comment is mandatory&quot;,
         &quot;inputNames&quot;:[  
            &quot;ticket_comment&quot;
         ],
         &quot;constraintType&quot;:&quot;MANDATORY&quot;
      }
   ],
   &quot;inputs&quot;:[  
      {  
         &quot;description&quot;:null,
         &quot;name&quot;:&quot;ticket_comment&quot;,
         &quot;multiple&quot;:false,
         &quot;type&quot;:&quot;TEXT&quot;
         &quot;inputs&quot;:[]
      }
   ]
}
</code></pre>
<h3>Execute a task with contract</h3>
<p>In order to execute a task, the task contract values have to be provided.
Request url
/API/bpm/userTask/<em>userTaskId</em>/execution</p>
<p>Request method</p>
<p>POST</p>
<p>Response payload</p>
<p>Empty if 204 OK, or a contract violation explanation in case of a 400 Bad request</p>
<h4>Example 1</h4>
<p>Execute the task 20004 providing correct contract values.
Request url
POST |/API/bpm/userTask/20004/execution</p>
<p>Request payload</p>
<pre><code>{  
   &quot;ticket_comment&quot;:&quot;This is a comment&quot;
}
</code></pre>
<p>Response</p>
<pre><code>204 OK no content
</code></pre>
<h4>Example 2</h4>
<p>Execute the task 20004 providing incorrect contract values.
Request url
POST |/API/bpm/userTask/20004/execution</p>
<p>Request payload</p>
<pre><code>{  
   &quot;wrongElement&quot;:&quot;This is not the right contract element&quot;
}
</code></pre>
<p>Response</p>
<pre><code>400 Bad request
{  
   &quot;exception&quot;:&quot;class org.bonitasoft.engine.bpm.contract.ContractViolationException&quot;,
   &quot;message&quot;:&quot;USERNAME=walter.bates | Contract is not valid: &quot;,
   &quot;explanations&quot;:[  
      &quot;Expected input [ticket_comment] is missing&quot;
   ]
}
</code></pre>
<h3>Retrieve the userTask context</h3>
<p>Request url
http://../API/bpm/userTask/<em>userTaskId</em>/context</p>
<p>Request method</p>
<p>GET</p>
<p>Request payload</p>
<p>empty</p>
<p>Response payload</p>
<p>A context object</p>
<h4>Example</h4>
<p>Get the context of the userTask with id 20004.
Request url
GET |/API/bpm/userTask/20004/context</p>
<p>Response</p>
<pre><code>{  
   &quot;businessData_ref&quot;:{  
      &quot;name&quot;:&quot;myBusinessDate&quot;,
      &quot;type&quot;:&quot;com.company.model.BusinessObject1&quot;,
      &quot;link&quot;:&quot;API/bdm/businessData/com.company.model.BusinessObject1/2&quot;,
      &quot;storageId&quot;:2,
      &quot;storageId_string&quot;:&quot;2&quot;
   },
   &quot;document1_ref&quot;:{  
      &quot;id&quot;:1,
      &quot;processInstanceId&quot;:3,
      &quot;name&quot;:&quot;myDocument&quot;,
      &quot;author&quot;:104,
      &quot;creationDate&quot;:1434723950847,
      &quot;fileName&quot;:&quot;TestCommunity-1.0.bos&quot;,
      &quot;contentMimeType&quot;:null,
      &quot;contentStorageId&quot;:&quot;1&quot;,
      &quot;url&quot;:&quot;documentDownload?fileName=TestCommunity-1.0.bos&amp;contentStorageId=1&quot;,
      &quot;description&quot;:&quot;&quot;,
      &quot;version&quot;:&quot;1&quot;,
      &quot;index&quot;:-1,
      &quot;contentFileName&quot;:&quot;TestCommunity-1.0.bos&quot;
   }
}</code></pre>
