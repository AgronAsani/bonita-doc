<style type="text/css">/** https://gist.github.com/andyferra/2554919#file-github-css **/
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url("../../images/modules/styleguide/para.png") no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url("../../images/modules/pulls/dirty-shade.png") repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0; }

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }

ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

ul :last-child, ol :last-child {
  margin-bottom: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      text-align: left;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      text-align: left;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

pre {
  background-color: #073642;
  color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

</style><link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/solarized_dark.min.css">
<h1 id="3-5-resource-management">3.5 Resource management</h1>
<p>This page explains how to add a resource to the Bonita BPM Portal and make it available to users. A resource is an artifact that extends the portal.</p>
<p>It is typed and can be one of the following: </p>
<ul>
<li><a href="/pages">Page</a></li>
<li><a href="/Forms">Form</a></li>
<li><a href="/Layouts">Layout</a></li>
<li><a href="/theme-resources">Theme</a></li>
<li><a href="/rest-api-extensions">API extension</a></li>
</ul>
<p><strong><a href="#resource_definition">Resource definition</a></strong></p>
<p><strong><a href="#permissions">Authorization permissions for resources</a></strong></p>
<p><strong><a href="#export">Exporting a resource</a></strong></p>
<p><strong><a href="#import">Importing a resource</a></strong></p>
<p><strong><a href="#edit">Modifying a resource</a></strong></p>
<p><strong><a href="#delete">Deleting a resource</a></strong></p>
<h2 id="resource-definition">Resource definition</h2>
<p>A resource is a zip archive, and must contains a <code>page.properties</code> file, a resources directory and an index file.</p>
<ul>
<li>The <code>page.properties</code> file contains the metadata for the page.</li>
</ul>
<p>For example: 
<code>name=custompage_layout
displayName=Application layout page
description=This is a layout page dedicated to new born living applications. It is created and editable using the UI designer. It allows to display an horizontal menu, and an iframe. The menu allows to target some pages and the iframe define the area to display those targeted pages.
resources=[GET|living/application,GET|living/application-page,GET|living/application-menu]
contentType=layout</code></p>
<ul>
<li>The <code>resources</code> directory contains all the public files of your resource (for example <code>index.html</code>, images, Javascript files, CSS files). </li>
</ul>
<ul>
<li>The zip archive must contain at least one of the following index files:<ul>
<li>An <code>index.html</code> file in the <code>resources</code> directory</li>
<li>An <code>Index.groovy</code> class at the root of the archive with, optionally, libraries</li>
</ul>
</li>
</ul>
<p>If a resouce contains both <code>Index.groovy</code> and <code>index.html</code>, the Groovy class takes precedence.</p>
<h2 id="authorization-permissions-for-resources">Authorization permissions for resources</h2>
<p>If you are using <a href="/rest-api-authorization.md">REST API authorization</a> and your resource needs the Web REST API, 
you need to specify the permissions that a user needs to have in order to access those API. 
These permissions are defined in the <code>page.properties</code> file. If your resources is a page written in Groovy and uses the Bonita BPM Engine Java APIs, you do not need to specify permissions.
For each REST resource accessed in other resources, specify the authorization needed for each method used. 
You can find the relevant file in <code>bonita-home\client\tenants\[tenant-id]\conf\ResourcesPermissionsMapping</code>.</p>
<p>The following example shows the permissions defined for a page that enables a user to view but not update organization information:</p>
<p>`</p>
<h1 id="the-name-must-start-with-custompage_-">The name must start with &#39;custompage_&#39;</h1>
<p>name=custompage_orgViewer
displayName=Organization viewer
description=Organization viewer page. You cannot modify the organization from this page.
resources=[GET|identity/user, GET|identity/personalcontactdata, GET|identity/professionalcontactdata, GET|identity/role, 
   GET|identity/group, GET|identity/membership, GET|customuserinfo/user, GET|customuserinfo/definition, GET|customuserinfo/value] 
contentType=page<br>`</p>
<h2 id="exporting-a-resource">Exporting a resource</h2>
<p>You can export a resource from the portal. The page is exported as a zip archive.</p>
<p>To export a resource:</p>
<ol>
<li>As an Administrator, go to <strong>Resources</strong>. You will see the list of all resources, and a filter for each type of resource (Page, Forms, Layout, Theme and API extension).</li>
<li>Select the page that you want to export.</li>
<li>Click <strong><em>Export</em></strong>.</li>
<li>In the popup, specify the name and location for the exported zip archive, and click <strong>OK</strong>.</li>
</ol>
<p>The zip archive is exported to the location you specified.</p>
<h2 id="importing-a-resource">Importing a resource</h2>
<p>To add a resource to the portal, import a zip archive that contains the <a href="#resource_definition">resource definition</a>.</p>
<ol>
<li><p>As an Administrator, go to <strong>Resources</strong>. You will see the list of all resources, and a filter for each type of resource (Page, Forms, Layout, Theme and API extension).</p>
</li>
<li><p>Click <strong><em>Add</em></strong>.</p>
</li>
<li>In the Content field, specify the zip archive to be imported. Click in the field, then specify the location and filename in the popup.</li>
<li>Click <strong><em>Add</em></strong>. The resource is added to the portal</li>
</ol>
<p>If you have specified a resource permission that is not defined in the <a href="/rest-api-authorization.md">REST API authorization configuration</a> and REST API authorization is configured to be on, you will see an error message.</p>
<p>After a resource is added to the portal, it can be used in an <a href="/applications.md">application</a> or in<a href="#custom-profiles.md">a custom profile</a>.</p>
<h2 id="modifying-a-resource">Modifying a resource</h2>
<p>To modify a resource in the portal, you upload a zip archive containing the new version.</p>
<ol>
<li>As an Administrator, go to <strong>Resources</strong>. You will see the list of all resources, and a filter for each type of resource (Page, Forms, Layout, Theme and API extension).</li>
<li>Select the page that you want to modify.</li>
<li>Click <strong><em>Edit</em></strong>.</li>
<li>To upload a new resource definition, click in the Content field and specify the new zip archive to import.</li>
<li>Click <strong>OK</strong> to save the changes.</li>
</ol>
<p>The resource is updated.</p>
<h2 id="deleting-a-resource">Deleting a Resource</h2>
<p>To delete a resource:</p>
<ol>
<li>As an Administrator, go to <strong>Resources</strong>. You will see the list of all resources, and a filter for each type of resource (Page, Forms, Layout, Theme and API extension).</li>
<li>Select the pages that you want to delete.</li>
<li>Click <strong><em>Delete</em></strong>.</li>
</ol>
<p>The selected resource is deleted.</p>
<p>Note: Either all the selected resources are deleted, or no resources are deleted.
If you have selected a page, a layout or a theme that are used in an application or in a custom profile, you will see an error message listing these resources and the applications where they are used. In the case, none of the pages you selected is deleted.<script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script></p>
