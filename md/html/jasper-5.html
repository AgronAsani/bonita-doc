<h1 id="jasper-5.0">1.8.7 Jasper 5.0</h1>
<p>A Jasper 5.0 connector is used for creating pre-formatted reports of data extracted from a database.</p>
<p>The procedure below is an example, and not a reference:</p>
<ol style="list-style-type: decimal">
<li>Using MySQL or PostGreSQL, create a database and a table called e.g. <code>address</code> containing data</li>
<li>Use Jasper Studio to connect to the database and create a pre-formatted report in a special .jrxml format</li>
<li>Setup the diagram in Bonita Studio by adding a Jasper connector to a task and the variables and the form variables</li>
<li>Import the pre-formatted .jrxml file into Bonita which will be used to create the graphic version of the data</li>
<li>When the process is run, it will connect to the database in real time</li>
<li>The request in the .jrxml report will be executed</li>
<li>The data will be extracted, imported into Bonita via the connector, a report will be created and then saved in the chosen format (pdf, xml or html) and to the chosen folder. It can be displayed directly in the Portal.</li>
</ol>
<h2 id="how-to-create-a-report-using-the-jasper-5.0-connector">How to create a report using the Jasper 5.0 connector</h2>
<p>This is an example only and not a reference.</p>
<p><strong>Preparation</strong></p>
<p>In MySQL, create a database with a table and information. In this example put <strong>address</strong> as the name of the table, for example.</p>
<p><strong>Note:</strong> The <code>.jrxml</code> file is created by Jasper Studio, and contains the database and the table name. If the names are changed, the request in the <code>.jrxml</code> file will fail, the connector will not recognise the name and not connect.</p>
<p>The structure of the table must be identical to the one below, but the names and cities can be anything you like:</p>
<p>INTEGER VARCHAR VARCHAR VARCHAR VARCHAR</p>
<p>id Firstname Lastname Street City</p>
<p>1 Sherlock Holmes 221b Baker street London</p>
<p>2 Bruce Wayne Wayne Manor Gotham</p>
<p>2 Indy Jones 38 Adler avenue Fairfield</p>
<p>Use <a href="http://community.jaspersoft.com/project/jaspersoft-studio">Jasper Studio</a> to connect to the external database to create a report in the compatible .jrxml format.</p>
<p><strong>Diagram</strong></p>
<ol style="list-style-type: decimal">
<li>Create a new diagram.</li>
<li>Create a <strong>start event</strong>, then <strong>3 tasks</strong>: (1 human task called <em>beforeJasper</em>, one service task called <em>Jasper</em> and one human task called <em>afterJasper</em>), and lastly an <strong>end event</strong>.</li>
</ol>
<p><strong>Pool data</strong></p>
<p>Select the pool and create 2 documents: a bonitadocument called input (.jxrml) and an output format for the document to be created (.pdf,.xml or.html).</p>
<p>Go to the <strong>Details</strong> panel, <strong>Data</strong> tab, <strong>Documents</strong> panel, and click <strong><em>Add</em></strong>. In the popup, click <strong>From Bonita BPM</strong> &gt; <strong>Browse...</strong> &gt; <strong>Import...</strong> (example.jrxml) to import the Bonita document.</p>
<p><strong>Document</strong></p>
<p>Name Data type</p>
<p>jrxmlDocName text</p>
<p>Now to configure the first task:</p>
<ol style="list-style-type: decimal">
<li>Add a Jasper connector to the task.</li>
<li>Enter the database connection information to connect to your database.</li>
<li>In <strong>Report Settings</strong>, enter the name of the .jrxml document used to create the report.<code>jrxmlDocName</code>.</li>
<li>Choose the output format: pdf, xml or html.</li>
<li>In Output operations, choose <strong>name of the object to contain the document</strong> and take the value <strong>reportDocValue</strong>.</li>
</ol>
<p>Click on <em><strong>Run.</strong></em> Bonita BPM Portal will be launched.</p>
<h2 id="result">Result</h2>
<p>A report is created, graphically representing the data from the database.</p>
<p><strong>Note:</strong> The Jasper connector is only testable in Bonita BPM Studio if a JDBC driver is installed.</p>
