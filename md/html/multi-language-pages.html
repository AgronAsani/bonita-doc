<style type="text/css">/** https://gist.github.com/andyferra/2554919#file-github-css **/
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url("../../images/modules/styleguide/para.png") no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url("../../images/modules/pulls/dirty-shade.png") repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0; }

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }

ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

ul :last-child, ol :last-child {
  margin-bottom: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      text-align: left;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      text-align: left;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

pre {
  background-color: #073642;
  color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

</style><link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/solarized_dark.min.css">
<h1 id="1-7-2-11-multi-language-pages">1.7.2.11 Multi-language pages</h1>
<p>In the Bonita BPM Subscription editions, the UI designer includes a mechanism to add translations for page elements, to support multi-language pages. 
The text displayed in the preview and at runtime adapts to the locale or browser language automatically. The UI designer itself is displayed in the language of your Bonita BPM Studio.
The Preview window is displayed in the language set for Bonita BPM Portal.</p>
<p>You can translate all the text displayed on a page or form: the labels, the placeholders, the available values of a list, and the date format of the DatePicker widget. 
The phrases in the base language are used as the keys to the translated phrases. </p>
<p><a href="#howitworks">How it works</a><br><a href="#tutorial">Tutorial: creating a multi-language page</a><br><a href="#sharing">Sharing translations</a></p>
<h2 id="how-it-works">How it works</h2>
<p>Each page has a <a href="/assets.md">localization asset</a> that contains the keys and the translations for all phrases and all languages that the page supports. 
The asset is a file, <code>localization.json</code>. Each language is identified by the ISO 639 language attribute (for example, fr-FR, es-ES). 
Open the default <code>localization.json</code> asset to see how this file must be formatted. You can modify the default asset for your page, or import a new asset to replace the default one.</p>
<p>In production, a page is displayed in the language specified by the BOS_locale cookie value. This value must match exactly one of the language codes in the <code>localization.json</code> asset.
The BOS_locale value is set by selecting a language in Bonita BPM Portal or in a custom widget.
If BOS_locale is not set or its value does not match a language code, the browser language is used. 
If neither the BOS_locole nor the browser language matches a language code in <code>localization.json</code>, the untranslated keys are displayed in the page.</p>
<p>To use a localization asset, replace the default <code>localization.json</code> file with a file of the same format containing all the keys in the page and the translations into the target languages. The localisation asset is at page level. 
The format of file must be:
`
{
&quot;ISO 639-1 code for language-A&quot;: 
  {
    &quot;english key&quot;:&quot;translated key for language-A&quot;,
    &quot;english key2&quot;:&quot;translated key2 for language-A&quot;,
     ...
   },
&quot;ISO 639-1 code for language-B &quot;: 
  {
    &quot;english key&quot;:&quot;translated key for language-B&quot;,
  &quot;english key2&quot;:&quot;translated key2 for language-B&quot;,</p>
<pre><code> <span class="hljs-keyword">...</span>
</code></pre><p>   }
  ...
`</p>
<p>The code that specifies a language in <code>localization.json</code> must be the same as the code in the <code>.po</code> files used to <a href="/languages.md">add the language to the Portal</a>.</p>
<h2 id="tutorial-creating-a-multi-language-page">Tutorial: creating a multi-language page</h2>
<p>This tutorial explains how to create a multi-language version of the Travel Tool application page from the <a href="/getting-started-tutorial.md">getting started tutorial</a>, adding French and Russian text to the page. 
It assumes that you have already created the Travel Tool page following the instructions in the <a href="/getting-started-tutorial.md">getting started tutorial</a>.</p>
<p><a href="#translate">Translate the text</a><br><a href="#locales">Add languages to Bonita BPM Portal</a><br><a href="#asset">Add a localization asset to the page</a><br><a href="#custom-widget">Translate contents in custom widgets</a><br><a href="#preview">Preview the page</a><br><a href="#deploy">Deploy</a>  </p>
<h3 id="translate-the-text">Translate the text</h3>
<p>Translation is done outside the Bonita BPM, in any suitable translation editor. The only requirement is that you provide the translated text as a localization asset in the format required by the UI designer.</p>
<p>The first step is to create a list of all the text strings used in the page. These strings are the keys that are used to serve the relevant translated string in the translated versions of page. 
For this simple page, you could create the key list by hand from the text that is visible in the Page editor. 
However, to be sure that you identify all the items that need to be translated, export the page zip file, and edit the <code>page.json</code> file to retrieve all the text strings. 
In addition to the text strings, look for any date format strings and URLs that could contain a locale attribute.</p>
<p>For the Travel Tool application page, this is the set of text strings to translate:</p>
<p><code>Travel Tool
This page lists your pending and approved travel requests.
My pending requests
Departure date
Number of nights
Hotel needed
Destination
Reason
Create new travel request
My approved travel requests
yes
no</code></p>
<p>These strings are the keys used to identify the text to display in each translation. Translate these strings into the languages that you want to support. For this tutorial, the additional languages are French and Russian.</p>
<h3 id="add-languages-to-bonita-bpm-portal">Add languages to Bonita BPM Portal</h3>
<p>Before you can view a page in a language, that language must be supported for Bonita BPM web applications. 
French is one of the default languages supported, so you just need to support for Russian. 
To do this, <a href="/languages.md">add Russian from the Community translations to your Bonita BPM Portal</a>. 
Make sure that you add both the Community and Subscription files. Then restart your Bonita BPM Studio, start the Portal, and change the language to Russian to check that it is available.</p>
<h3 id="add-a-localization-asset-to-the-page">Add a localization asset to the page</h3>
<p>Create a <code>localization.json</code> file in the format shown above, containing the French and Russian translations of the page text. 
The language identifier must match the language identifier in the <code>.po</code> files containing the Portal translations.
Use an online Json checker to make sure there are no format errors in the file. The file will look something like this:</p>
<p><code>[[include:localization.json]]</code></p>
<p>You can <a href="images/special_code//localization.json">download a copy of this <code>localization.json</code> file</a> for testing.</p>
<p>In the UI designer, import this file as an asset of the travel tool page. This will replace any existing <code>localization.json</code> file. Save the page.</p>
<h3 id="translate-contents-in-custom-widgets">Translate contents in custom widgets</h3>
<p>In the custom widget editor, use the the <em>uiTranslate</em> filter or the <em>ui-translate</em> directive to indicate content to translate. See <a href="custom-widgets.md#custom-widget-translation">Custom widgets section</a> for more information.</p>
<h3 id="preview-the-page">Preview the page</h3>
<p>Now preview the page in each language. To do this, you need to modify the language used for Bonita BPM web applications, which you do by setting the Portal language from the Portal Settings menu.</p>
<p><img src="images/images-6_0/l10n-combined-previews.png" alt="Multi-language page previews"></p>
<p>Multi-language page previews</p>
<p>Check the translated versions of the page, and update the translated text if necessary. To update the translations, edit your <code>localization.json</code> file and then upload it again.
Adjust the page layout if necessary to allow for language differences. Your multi-language page is now complete, ready to be included in an application and deployed.</p>
<h3 id="deploy">Deploy</h3>
<p>To put a multi-language page into production in an application, follow the same steps as for a single-language page: <a href="/resource-management#import">upload the page to the Portal</a> and then <a href="/applications.md#pages">add it to the application</a>. You can follow the steps for <a href="/getting-started-tutorial.md#build-app">building the application</a> from the getting started tutorial.</p>
<p>After deployment, an application user will see the page in the language configured for their Bonita BPM web applications. A user can set this by selecting the language in Bonita BPM Portal.
If the selected language is not supported in the page, the untranslated key text is displayed. </p>
<h2 id="sharing-translations">Sharing translations</h2>
<p>Depending on the applications and processes you have, there could be some phrases that are common to many pages or forms. 
If this is the case, consider using a single <code>localization.json</code> for all pages. 
You still need to attach it as an asset to each page, but it could make your translation process more efficient by removing duplication. 
Alternatively, your translation management tools might provide a mechanism for sharing the translations required for various pages, which would enable you to extract the keys and translations required for a page and construct the .json file.<script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script></p>
