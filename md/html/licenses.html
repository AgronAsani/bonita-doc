<style type="text/css">/** https://gist.github.com/andyferra/2554919#file-github-css **/
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url("../../images/modules/styleguide/para.png") no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url("../../images/modules/pulls/dirty-shade.png") repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0; }

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }

ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

ul :last-child, ol :last-child {
  margin-bottom: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      text-align: left;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      text-align: left;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

pre {
  background-color: #073642;
  color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

</style><link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/solarized_dark.min.css">
<h1 id="2-3-8-licenses">2.3.8 Licenses</h1>
<p>Bonita BPM 7.1 introduces a new Bonita BPM Subscription Pack edition licensing model: case-counter licensing. This page explains how to manage the license for your Bonita BPM platform, under the case-counter licensing model or using the legacy licensing model.</p>
<p><strong><a href="#case-counter">Case-counter licensing</a></strong></p>
<p><strong><a href="#legacy">Legacy licensing</a></strong></p>
<p><strong><a href="#installation">License installation</a></strong></p>
<p><strong><a href="#renewal">License renewal</a></strong></p>
<p>The <strong><em>License</em></strong> menu in Bonita BPM Portal displays information about the current license. This information is available to the platform administrator only.</p>
<p>The <a href="/bonita-bpm-studio-installation.md#license">license for Bonita BPM Studio</a> is installed using a wizard when you start the studio for the first time after installation (or after the previous license expires).</p>
<h2 id="case-counter-licensing">Case-counter licensing</h2>
<p>A case-counter license defines the maximum number of cases (process instances) that the platform is permitted to start in the counter period. 
The counter period is typically one year and starts when your Subscription starts or on the anniversary.
Each time a case starts, the case counter is increased by one. 
Case-counter licenses are available for development and for production. A development license must not be used for production, and typically has a lower case limit than a production license. 
The maximum number of cases is defined in your commercial contract, in discussion with your sales person.</p>
<p>As well as using Bonita BPM Portal, you can monitor the case counter using the <a href="/platform-api-861#license">REST API</a>. You can also check the expiration date of the license with the REST API.</p>
<p>When the case counter reaches the limit set in the license, no more cases can be started. Active cases continue to completion.</p>
<p>If a user tries to submits a case start form after the case counter maximum limit is reached, the form cannot be submitted and they see an error message. 
Note that if the process is still using legacy forms, there is no error message.</p>
<h2 id="legacy-licensing">Legacy licensing</h2>
<p>A legacy license has an expiration date but no case limit.</p>
<p>Shortly before the license expiration date, an email message is sent to the address where the previous license was sent.
The exact number of days before the expiration this reminder message is sent depends on your subscription and is set 
by the sales person you talk to, when purchasing the first license (so if you have a specific need, discuss it with them). You can also check the expiration date using the <a href="/platform-api-861#license">REST API</a>. This is useful if the email address previously used is no longer active, or if the recipient is not checking email (for example, during vacation).</p>
<p>A legacy license is limited to a preset number of CPU cores. A development license is limited to two CPU cores. 
A production license can allow four CPU cores or more. If your server has more CPU cores than the number allocated to Bonita BPM execution in your license, you will need to limit the number of cores available to Bonita BPM Platform.</p>
<p>Below you can find some examples to limit execution of standalone Tomcat setup to 2 CPU cores:</p>
<p>For Windows:<br><code>start /AFFINITY 3 startup.bat</code>  </p>
<p>where 3 is the affinity mask (expressed as a hexadecimal number). 1 -> 1 CPU core, 3 -> 2 CPU cores, 7 -> 3 CPU cores, 15 -> 4 CPU cores...</p>
<p>For Linux:<br><code>#!/bin/sh taskset -c 0,1 startup.sh</code>  </p>
<p>where 
0,1 indicates CPU cores to use. You can set a list of CPU cores to use or a range. E.g.: 0,1,2,3 or 0-3</p>
<p>Replace <code>startup.[bat|sh]</code> with the appropriate launcher of your application server (<code>startup.bat</code> if for Tomcat).</p>
<h2 id="license-installation">License installation</h2>
<p>Your contract with BonitaSoft specifies the details of the subscription you have purchased, including the edition, license model, and case limit for case-counter licensing. A license matching the subscription details is generated on request.</p>
<p>To obtain and install the license, follow these steps:</p>
<ol>
<li><a href="#plat_get">Get a request key</a> for Bonita BPM Platform.</li>
<li>Go to the <a href="https://customer.bonitasoft.com/license/request">Customer portal</a> license request page.</li>
<li>Fill in the details in the form.</li>
<li>The license file will be sent to you by email.</li>
<li><a href="#plat_install">Install</a> the license file for Bonita BPM Platform.</li>
</ol>
<h3 id="generate-a-license-request-key">Generate a license request key</h3>
<p>You need to generate the license key on the server where you install Bonita BPM Platform. A request key looks like this:
<code>(CIVpYDRB8bhouXdWadLY1M9TVctwYUYuv7ou7sqeIrSUSuCqUIkjQAs0ZGgzbtqv3gguFOHlyMZkyvwdr4HLgg==)</code></p>
<p>To generate a request key, go to the <code>request_key_utils</code> folder of your Bonita BPM installation and run the <code>generateRequestKey.bat</code> script (for Windows) or the <code>generateRequestKey.sh</code> script (for other operating systems).</p>
<p>Use the generated request key to request a license on the <a href="https://customer.bonitasoft.com/license/request">Customer portal</a> license request page. Note: keep the brackets () in the key.
If the key is separated by a line break, remove it and put the key on a single line.</p>
<h3 id="install-the-license">Install the license</h3>
<p>When you receive the license file (<code>.lic</code> file extension) copy it to the <code>server/licenses</code> folder located inside Bonita home.</p>
<h2 id="license-renewal">License renewal</h2>
<p>To renew your license, you need the request key, which you can get using the script, from the Bonita BPM Portal page, or by using the <a href="/platform-api-861#license">REST API</a>.</p>
<p>For either type of license, if you are still within the Subscription period when you approach the license expiration date, request a new license that starts on the last day of your current license. 
Put the license you receive in the license folder alongside the existing license. 
When you reach the &quot;changeover&quot; date for the licenses, Bonita BPM Engine switches automatically from the expired license to the valid one.</p>
<p>If you approach both the license expiration date and the end of the Subscription period, contact your sales person.</p>
<p>For case-counter licensing, the case counter is reset at the end of the counter period. 
If your license expiry date is before the end of the counter period, obtain and install a new license as usual. The case counter will continue from its current value under the new license.</p>
<p>If you approach or reach the case counter limit before the end of the license period, contact your sales person to obtain a new license with additional cases.<script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script></p>
