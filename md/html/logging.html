<style type="text/css">/** https://gist.github.com/andyferra/2554919#file-github-css **/
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url("../../images/modules/styleguide/para.png") no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url("../../images/modules/pulls/dirty-shade.png") repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0; }

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }

ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

ul :last-child, ol :last-child {
  margin-bottom: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      text-align: left;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      text-align: left;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

pre {
  background-color: #073642;
  color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

</style><link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/solarized_dark.min.css">
<h1 id="4-9-logging">4.9 Logging</h1>
<p>This page contains information about logging in Bonita BPM.</p>
<p><a href="#bonita_log">How components produce log messages</a><br><a href="#logging_conf">Logging configuration</a><br><a href="#your_log">How to produce logs in your Bonita development</a><br><a href="#log_content">View log content</a></p>
<h2 id="how-components-produce-log-messages">How components produce log messages</h2>
<p>The components of Bonita BPM have their own ways to produce logs, which are described below.</p>
<h3 id="bonita-bpm-engine">Bonita BPM Engine</h3>
<p>All the Engine services call the <a href="/technical-logger-service.md">technical logger service</a> in order to write log
messages. There is no direct access to any logging framework such as log4j, JUL or SLF4J.</p>
<h3 id="bonita-bpm-portal">Bonita BPM Portal</h3>
<p>The Portal uses the <a href="http://docs.oracle.com/javase/6/docs/api/java/util/logging/package-summary.html">Java
Util Logging</a> (JUL) directly to log messages.</p>
<h3 id="bonita-bpm-studio">Bonita BPM Studio</h3>
<p>The Studio uses a logging service provided by the Eclipse platform. Modification of the Studio logging configuration is not
very common except for debugging the Studio itself.</p>
<p>The Bonita BPM Studio provides direct access to the log written by the embedded Portal and Engine. You can access this log from the Bonita BPM Studio <strong>Help</strong>
menu <strong>Show Engine log</strong> option.</p>
<p>The UI designer log file is available in <em>BONITA_HOME</em>/tomcat/logs/ui-designer.log.</p>
<h2 id="logging-configuration">Logging configuration</h2>
<h3 id="bonita-bpm-engine-and-bonita-bpm-portal">Bonita BPM Engine and Bonita BPM Portal</h3>
<p>The <a href="/technical-logger-service.md">technical logger service</a> uses SLF4J
(version 1.6.1) to create the log. SLF4J is also used directly by Bonita dependencies such as Hibernate, Quartz
and Ehcache.</p>
<p>SLF4J is a facade for various logging frameworks, and a logging framework must be available as the back-end. By
default, Bonita uses JUL (Java Util Logging) as a the back-end to SLF4J. 
This is defined by including the <code>slf4j-jdk14-1.6.1.jar</code> in the <code>bonita.war WEB-INF/lib</code> folder.</p>
<p>By default in Bonita BPM Engine and Bonita BPM Portal, all logs are sent to the JUL framework. To configure what is
logged and where it is stored, modify the JUL configuration. The method of configuring JUL depends on the application server you use:</p>
<ul>
<li><p>Apache Tomcat: edit the logging.properties file located in conf folder (see the <a href="http://tomcat.apache.org/tomcat-7.0-doc/logging.html">Apache Tomcat logging documentation</a>).</p>
</li>
<li><p>JBoss Application Server: some documentation is available in the JBoss 7.0 <a href="https://docs.jboss.org/author/display/AS7/Logging+configuration">Admin guide</a>.</p>
</li>
<li><p>Other application server: refer to your application server documentation on Java Util Logging
configuration.</p>
</li>
</ul>
<p>For the Tomcat embedded in Bonita BPM Studio, the JUL configuration file is located in the Studio installation folder under
<code>workspace/tomcat/conf</code>. After editing this file, restart Tomcat by going to the <strong>Server</strong> menu and selecting the <strong>Restart web server</strong> option.</p>
<p>Here is an example of the JUL configuration for the logger used in the <a href="#your_log">example below</a>:
`</p>
<h1 id="reuse-bonita-log-handler-file-bonita-log-for-org-mycompany-connector-loggers">Reuse Bonita log handler (file bonita.log) for org.mycompany.connector loggers</h1>
<p>org.mycompany.connector.handlers = 5bonita.org.apache.juli.FileHandler</p>
<h1 id="set-log-level-to-finest-for-newly-created-connector">Set log level to &quot;finest&quot; for newly created connector</h1>
<p>org.mycompany.connector.level = FINEST</p>
<h1 id="set-log-level-to-finest-for-groovy-script">Set log level to &quot;finest&quot; for Groovy script</h1>
<p>org.bonitasoft.groovy.script.level = FINEST
`</p>
<h3 id="bonita-bpm-studio">Bonita BPM Studio</h3>
<p>To change the Bonita BPM Studio log level (usually to debug Studio), go to the Studio installation folder, configuration directory, and edit the
<code>config.ini</code>
file. You need to set the property
<code>eclipse.log.level</code>
to one of the following values: INFO, WARNING or ERROR.</p>
<h2 id="how-to-include-logging-in-your-bonita-development">How to include logging in your Bonita development</h2>
<p>When you write Groovy scripts or Java code to be included in a process (for example, to create a new connector implementation), logging is
usually required. The recommended option is to use <a href="http://www.slf4j.org/">SLF4J</a> in order to log
messages. SLF4J is included in the Bonita dependencies so you can use it without adding extra
dependencies. However, to get completion for SLF4J classes during development you need to add the
slf4j-api jar file temporarily to your process dependencies (click <strong><em>Configure</em></strong> then choose <strong>Application dependencies</strong>).</p>
<p>This is an example of how to log debug information in a Groovy script. Note that we recommend that you use a logger name that
starts with &quot;org.bonitasoft&quot;, so that the default Bonita logging configuration is applied to your logger. Also, ending
your logger name with a name similar to the Groovy script will be helpful to identify source of the message.
<code>import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
Logger logger = LoggerFactory.getLogger(&quot;org.bonitasoft.groovy.script.my_int_init_script&quot;);
logger.debug(&quot;Set initial value of process variable using Groovy script&quot;);
return Integer.valueOf(3 + 5);</code></p>
<p>This is an example of how to use logging in a connector:
`
private static final Logger LOGGER = LoggerFactory.getLogger(SumImpl.class); </p>
<p>@Override 
protected void executeBusinessLogic() throws ConnectorException {
LOGGER.debug(&quot;Trying to sum {} and {}.&quot;, getIntegerA(), getIntegerB());
int sum = getIntegerA() + getIntegerB(); 
LOGGER.debug(&quot;The sum is: {}&quot;, sum);
setSum(sum);
}
`</p>
<h2 id="view-log-content">View log content</h2>
<h3 id="bonita-bpm-studio">Bonita BPM Studio</h3>
<p>In Bonita BPM Studio you have access to two log files:</p>
<ul>
<li><p>The Studio log file includes information about Studio execution. Look at this file if you see
incorrect behavior of the Studio. To view the file, go to the <strong>Help</strong> menu and choose <strong>Show Studio log</strong>.
The file is
located in the
<code>workspace/.metadata</code>
folder and is named
<code>.log</code>. </p>
</li>
<li><p>The Engine and Portal log file receives all log messages produced by the Bonita Platform embedded in the Studio. When you
test your processes by running them from the Studio you will find valuable debugging information in this file. 
To view the file, go to the <strong>Help</strong> menu and choose <strong>Show Engine log</strong>. 
The file is located in
<code>workspace/tomcat/log</code>
and is named
<code>bonita-yyyy-mm-dd.log</code>.</p>
</li>
</ul>
<h3 id="bonita-platform">Bonita Platform</h3>
<p>The log file location depends on your application server.
For example, if you are running Tomcat, the log files will be located under the
<code>logs</code>
folder in
<code>TOMCAT_HOME</code>.<script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script></p>
