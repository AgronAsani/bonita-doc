<div class="documentation-navigation">
  <h2><a ui-sref="main.content" ui-sref-opts="{ reload: 'main.content', inherit: false, notify: true}">Bonita BPM {{ navCtrl.version }}</a></h2>
  <div ng-repeat="node in navCtrl.taxonomy">
    <ng-include src="'navigation/item.html'"></ng-include>
  </div>
</div>
<script type="text/ng-template" id="navigation/item.html">
  <div ng-if="!node.children || !node.children.length" ng-class="{'text-danger': navCtrl.isPageCurrentlyDisplayed(node.href)}">
    <i class="fa fa-circle-o" aria-hidden="true"></i>
    <a href="" ng-click="navCtrl.goTo(node.href)">{{ node.name }}</a>
  </div>
  <div ng-if="node.children && node.children.length" ng-click="node.isExpanded=!node.isExpanded">
    <span class="glyphicon" ng-class="{'glyphicon-triangle-right': !node.isExpanded, 'glyphicon-triangle-bottom': node.isExpanded}"></span>
    <a href="">{{ node.name }}</a>
  </div>
  <div class="tree-node" uib-collapse="!node.isExpanded">
    <div ng-repeat="node in node.children">
      <ng-include src="'navigation/item.html'"></ng-include>
    </div>
  </div>
</script>
