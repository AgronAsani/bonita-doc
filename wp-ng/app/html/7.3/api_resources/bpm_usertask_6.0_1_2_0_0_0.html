<h2>userTask</h2>


<h3>Description</h3>
<p>An executable task that is performed by a user.</p>


<h3>Identifier</h3>
<p>Simple, the ID of the object (a long value)</p>


<h3>Parameters</h3>
<p>None</p>
	
<h3>Representation</h3>

<pre>{
&quot;displayDescription&quot;:&quot;<em>the human readable task description (string)</em>&quot;, 
&quot;executedBySubstitute&quot;:&quot;<em>the id (long) of the user who really performed this task in case where a substitute did it, or 0 if the task was not performed by a substitute</em>&quot;, 
&quot;processId&quot;:&quot;<em>the process id (long) that is associated with this task</em>&quot;, 
&quot;state&quot;:&quot;<em>the current state of the task (string, for example, ready, completed, failed)</em>&quot;, 
&quot;rootContainerId&quot;:&quot;<em>the root process id (long) of the root case that is associated with this task</em>&quot;, 
&quot;type&quot;:&quot;USER_TASK&quot;, 
&quot;assigned_id&quot;:&quot;<em>the user id (long) that this task is assigned to, or 0 if it is unassigned</em>&quot;, 
&quot;assigned_date&quot;:&quot;<em>the date (&apos;yyyy-MM-dd HH:mm:ss.SSS&apos;) when this task was assigned to the assigned user due, for example &apos;2014-10-17 16:05:42.626&apos;</em>&quot;, 
&quot;id&quot;:&quot;<em>the task id (long)</em>&quot;, 
&quot;executedBy&quot;:&quot;<em>the id (long) of the user who executed the task, or 0 if the task has not been executed</em>&quot;, 
&quot;caseId&quot;:&quot;<em>the id (long) of the case</em>&quot;, 
&quot;priority&quot;:&quot;<em>the priority (string) of the current task</em>&quot;, 
&quot;actorId&quot;:&quot;<em>the id (long) of the actor that can execute this task, null otherwise</em>&quot;, 
&quot;description&quot;:&quot;<em>the task description (string)</em>&quot;, 
&quot;name&quot;:&quot;<em>the task name (string)</em>&quot;, 
&quot;reached_state_date&quot;:&quot;<em>the date (&apos;yyyy-MM-dd HH:mm:ss.SSS&apos;) when this task reached the current state, for example &apos;2014-10-17 16:05:42.626&apos;</em>&quot;, 
&quot;displayName&quot;:&quot;<em>the display name (string) of this task</em>&quot;, 
&quot;dueDate&quot;:&quot;<em>the date (&apos;yyyy-MM-dd HH:mm:ss.SSS&apos;) when this task is due, for example &apos;2014-10-17 16:05:42.626&apos;</em>&quot;, 
&quot;last_update_date&quot;:&quot;<em>the date (&apos;yyyy-MM-dd HH:mm:ss.SSS&apos;) when this task was last updated, for example &apos;2014-10-17 16:05:42.626&apos;</em>&quot;
} </pre>

<h3>Methods</h3>

<p>The methods used for this resource are:</p>
<ul>
	<li>GET - Retrieve a userTask, search for userTask objects</li>
	<li>POST - Execute a task with contract</li>
	<li>PUT - Update a userTask</li>
</ul>

<h2>Actions</h2>
<h3>Retrieve a userTask</h3>


<table border="1" cellpadding="1" cellspacing="1">
    <tbody><tr>
    		<td valign="top">Request url</td>
			<td valign="top">http://../API/bpm/userTask/<em>userTaskId</em></td></tr>
		<tr>
			<td valign="top"><p>Request method</p></td>
			<td valign="top"><p>GET</p>
			</td>
		</tr>
				<tr>
			<td valign="top"><p>Request payload</p></td>
			<td valign="top"><p>empty</p>
			</td>
		</tr>
		<tr>
			<td valign="top"><p>Response payload </p></td>
			<td valign="top"><p>A userTask object</p>
			</td>
		</tr>
	</tbody>
</table>

<h4>Example</h4>
<p>Get the userTask with id 20004.</p>
<table border="1" cellpadding="1" cellspacing="1">
    <tbody><tr>
				<td valign="top">Request url</td>
				<td valign="top">GET |/API/bpm/userTask/20004</td>
			</tr>
			<tr>
				<td valign="top"><p>Response</p></td>
				<td valign="top"><pre><code>{
&quot;displayDescription&quot;:&quot;&quot;,
&quot;executedBySubstitute&quot;:&quot;0&quot;,
&quot;processId&quot;:&quot;5826139717723008213&quot;,
&quot;state&quot;:&quot;ready&quot;,
&quot;rootContainerId&quot;:&quot;1002&quot;,
&quot;type&quot;:&quot;USER_TASK&quot;,
&quot;assigned_id&quot;:&quot;&quot;,
&quot;assigned_date&quot;:&quot;&quot;,
&quot;id&quot;:&quot;20004&quot;,
&quot;executedBy&quot;:&quot;0&quot;,
&quot;caseId&quot;:&quot;1002&quot;,
&quot;priority&quot;:&quot;normal&quot;,
&quot;actorId&quot;:&quot;102&quot;,
&quot;description&quot;:&quot;&quot;,
&quot;name&quot;:&quot;Analyse case&quot;,
&quot;reached_state_date&quot;:&quot;2014-09-05 11:11:30.808&quot;,
&quot;displayName&quot;:&quot;Analyse case&quot;,
&quot;dueDate&quot;:&quot;2014-09-05 12:11:30.775&quot;,
&quot;last_update_date&quot;:&quot;2014-09-05 11:11:30.808&quot;
}</code></pre>
			</td>
			</tr>
	</tbody>
</table>



<h3>Update a userTask</h3>

<p>Fields that can be updated are <code>assignedId</code> and <code>state</code>. The only value that can be set for the state is &quot;skipped&quot;. You only need to specify the fields that are to be updated.</p>

<table border="1" cellpadding="1" cellspacing="1">
    <tbody><tr>
    		<td valign="top">Request url</td>
			<td valign="top">/API/bpm/userTask/<em>userTaskId</em></td>
			</tr>
		<tr>
			<td valign="top"><p>Request method</p></td>
			<td valign="top"><p>PUT</p>
		</td></tr>
		<tr>
			<td valign="top"><p>Request payload</p></td>
			<td valign="top"><p>{&quot;assigned_id&quot; : &quot;id of new user&quot;, &quot;state&quot;:&quot;skipped&quot;}</p>
			</td>
		</tr>
		<tr>
			<td valign="top"><p>Response payload</p></td>
			<td valign="top"><p>empty</p>
			</td>
		</tr>
	</tbody>
</table>

<h4>Example</h4>
<p>Assign userTask with id 20004 to the user with id 21.</p>
<table border="1" cellpadding="1" cellspacing="1">
    <tbody><tr>
				<td valign="top">Request url</td>
				<td valign="top">PUT |/API/bpm/userTask/20004</td>
			</tr>
			<tr>
				<td valign="top"><p>Request payload</p></td>
				<td valign="top"><pre><code>{&quot;assigned_id&quot; : &quot;21&quot;}</code></pre>
			</td>
			</tr>

	</tbody>
</table>

<h3>Retrieve the task contract</h3>

<p>Task contract elements can be retrived client side.</p>

<table border="1" cellpadding="1" cellspacing="1">
    <tbody><tr>
    		<td valign="top">Request url</td>
			<td valign="top">/API/bpm/userTask/<em>userTaskId</em>/contract</td>
			</tr>
		<tr>
			<td valign="top"><p>Request method</p></td>
			<td valign="top"><p>GET</p>
		</td></tr>
		<tr>
			<td valign="top"><p>Response payload</p></td>
			<td valign="top"><p>The task contract elements</p>
			</td>
		</tr>
	</tbody>
</table>

<h4>Example</h4>
<p>Retrieve the contract for the task 20004.</p>
<table border="1" cellpadding="1" cellspacing="1">
    <tbody><tr>
				<td valign="top">Request url</td>
				<td valign="top">GET |/API/bpm/userTask/20004/contract</td>
			</tr>
			<tr>
				<td valign="top"><p>Response</p></td>
				<td valign="top">
<pre><code>{  
   &quot;constraints&quot;:[  
      {  
         &quot;name&quot;:&quot;ticket_comment&quot;,
         &quot;expression&quot;:&quot;ticket_comment!=null &amp;&amp; !ticket_comment.toString().isEmpty()&quot;,
         &quot;explanation&quot;:&quot;input ticket_comment is mandatory&quot;,
         &quot;inputNames&quot;:[  
            &quot;ticket_comment&quot;
         ],
         &quot;constraintType&quot;:&quot;MANDATORY&quot;
      }
   ],
   &quot;inputs&quot;:[  
      {  
         &quot;description&quot;:null,
         &quot;name&quot;:&quot;ticket_comment&quot;,
         &quot;multiple&quot;:false,
         &quot;type&quot;:&quot;TEXT&quot;
         &quot;inputs&quot;:[]
      }
   ]
}</code></pre></td>
			</tr>

	</tbody>
</table>

<h3>Execute a task with contract</h3>

<p>In order to execute a task, the task contract values have to be provided.</p>

<table border="1" cellpadding="1" cellspacing="1">
    <tbody><tr>
    		<td valign="top">Request url</td>
			<td valign="top">/API/bpm/userTask/<em>userTaskId</em>/execution</td>
			</tr>
		<tr>
			<td valign="top"><p>Request method</p></td>
			<td valign="top"><p>POST</p></td>
		</tr>
		<tr>
			<td valign="top"><p>Response payload</p></td>
			<td valign="top"><p>Empty if 204 OK, or a contract violation explanation in case of a 400 Bad request</p></td>
		</tr>
	</tbody>
</table>

<h4>Example 1</h4>
<p>Execute the task 20004 providing correct contract values.</p>
<table border="1" cellpadding="1" cellspacing="1">
    <tbody><tr>
				<td valign="top">Request url</td>
				<td valign="top">POST |/API/bpm/userTask/20004/execution</td>
			</tr>
			<tr>
				<td valign="top"><p>Request payload</p></td>
				<td valign="top">
<pre><code>
{  
   &quot;ticket_comment&quot;:&quot;This is a comment&quot;
}
</code></pre>					
				</td>
			</tr>
			<tr>
				<td valign="top"><p>Response</p></td>
				<td valign="top">
<pre><code>204 OK no content</code></pre></td>
			</tr>

	</tbody>
</table>

<h4>Example 2</h4>
<p>Execute the task 20004 providing incorrect contract values.</p>
<table border="1" cellpadding="1" cellspacing="1">
    <tbody><tr>
				<td valign="top">Request url</td>
				<td valign="top">POST |/API/bpm/userTask/20004/execution</td>
			</tr>
			<tr>
				<td valign="top"><p>Request payload</p></td>
				<td valign="top">
<pre><code>
{  
   &quot;wrongElement&quot;:&quot;This is not the right contract element&quot;
}
</code></pre>					
				</td>
			</tr>
			<tr>
				<td valign="top"><p>Response</p></td>
				<td valign="top">
<pre><code>400 Bad request
{  
   &quot;exception&quot;:&quot;class org.bonitasoft.engine.bpm.contract.ContractViolationException&quot;,
   &quot;message&quot;:&quot;USERNAME=walter.bates | Contract is not valid: &quot;,
   &quot;explanations&quot;:[  
      &quot;Expected input [ticket_comment] is missing&quot;
   ]
}
</code></pre></td>
			</tr>

	</tbody>
</table>

<h3>Retrieve the userTask context</h3>

<table border="1" cellpadding="1" cellspacing="1">
    <tbody><tr>
    		<td valign="top">Request url</td>
			<td valign="top">http://../API/bpm/userTask/<em>userTaskId</em>/context</td></tr>
		<tr>
			<td valign="top"><p>Request method</p></td>
			<td valign="top"><p>GET</p>
			</td>
		</tr>
				<tr>
			<td valign="top"><p>Request payload</p></td>
			<td valign="top"><p>empty</p>
			</td>
		</tr>
		<tr>
			<td valign="top"><p>Response payload </p></td>
			<td valign="top"><p>A context object</p>
			</td>
		</tr>
	</tbody>
</table>

<h4>Example</h4>
<p>Get the context of the userTask with id 20004.</p>
<table border="1" cellpadding="1" cellspacing="1">
    <tbody><tr>
				<td valign="top">Request url</td>
				<td valign="top">GET |/API/bpm/userTask/20004/context</td>
			</tr>
			<tr>
				<td valign="top"><p>Response</p></td>
				<td valign="top"><pre><code>{  
   &quot;businessData_ref&quot;:{  
      &quot;name&quot;:&quot;myBusinessDate&quot;,
      &quot;type&quot;:&quot;com.company.model.BusinessObject1&quot;,
      &quot;link&quot;:&quot;API/bdm/businessData/com.company.model.BusinessObject1/2&quot;,
      &quot;storageId&quot;:2,
      &quot;storageId_string&quot;:&quot;2&quot;
   },
   &quot;document1_ref&quot;:{  
      &quot;id&quot;:1,
      &quot;processInstanceId&quot;:3,
      &quot;name&quot;:&quot;myDocument&quot;,
      &quot;author&quot;:104,
      &quot;creationDate&quot;:1434723950847,
      &quot;fileName&quot;:&quot;TestCommunity-1.0.bos&quot;,
      &quot;contentMimeType&quot;:null,
      &quot;contentStorageId&quot;:&quot;1&quot;,
      &quot;url&quot;:&quot;documentDownload?fileName=TestCommunity-1.0.bos&amp;contentStorageId=1&quot;,
      &quot;description&quot;:&quot;&quot;,
      &quot;version&quot;:&quot;1&quot;,
      &quot;index&quot;:-1,
      &quot;contentFileName&quot;:&quot;TestCommunity-1.0.bos&quot;
   }
}</code></pre>
			</td>
			</tr>
	</tbody>
</table>