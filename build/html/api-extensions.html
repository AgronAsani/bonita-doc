<h1>REST API extensions</h1>
<p>A REST API extension is a way to add extra REST resources using Bonita BPM. REST API extensions are <a href="resource-management.md">exported, imported, updated, and deleted</a> as resources in Bonita BPM Portal.</p>
<p>If you want to learn how to create REST API extension, refer to the documentation page about Bonita BPM Studio <a href="rest-api-extensions.md">tooling for creating and testing REST API extensions</a> (for Bonita BPM subscription edition).</p>
<p>Page below contains information about deploying a REST API manually, which is possible with all editions.</p>
<h2>Deploy a REST API extension</h2>
<p>You need to deploy the REST API zip archive using Bonita BPM Portal:</p>
<ol>
<li>Connect to the Bonita BPM Portal and switch to &quot;administrator&quot; view.</li>
<li>Go to Resources. You will see the list of all resources, and a filter for each type of resource (Pages, Forms, Layouts, Themes and API extensions).</li>
<li>Click Add button (top left).</li>
<li>Click in the Archive field, then select the REST API extension zip file.</li>
<li>Click Next.</li>
<li>Click Confirm. The resource is added to the portal</li>
</ol>
<p>REST API extensions use the same authorization mechanism as the standard Bonita BPM REST APIs. When you import the extension, the information in <code>page.properties</code> is used to set the appropriate resource permission mappings in Bonita BPM (see <a href="rest-api-authorization.md">REST API authorization</a> for information about REST API security configuration).</p>
<p><strong>Note</strong>: It is also possible to deploy a REST API extension using <a href="api_resources/page_6.4_1.md">REST portal API / &quot;page&quot; resource</a>.</p>
<p><strong>Warning</strong>: If you are running Bonita BPM in a cluster, after you import a REST API extension, you must restart the application server on all the cluster nodes.</p>
<h2>Usage</h2>
<p>A REST API extension must be deployed before any page or form resource using it is deployed.</p>
<p>A page that uses REST API extensions must add the required resources in the page resource <code>page.properties</code> file.
For example, if a page uses the demoHeaders, demoXml, and putResource API extensions, the <code>page.properties</code> must include this line:</p>
<pre><code class="language-groovy">resources=[GET|extension/demoHeaders, POST|extension/demoXml,PUT|extension/putResource]
</code></pre>
<p>Additional resources and related permissions are stored in user's session. A logout/login to the portal is required to get new permissions effective for user.</p>
<h2>REST API extension examples</h2>
<p>A REST API extension example resource and API extension viewer page are provided in administrator portal. They are located in administrator portal.</p>
<p>To use the examples, define a mapping for <code>demoPermission</code>.</p>
<ul>
<li>Edit <code>$BONITA_HOME/client/tenants/1/conf/custom-permissions-mapping.properties</code>.</li>
<li>Add the following line: <code>profile|User=[demoPermission]</code>.</li>
<li>Restart Tomcat bundle</li>
</ul>
<p>REST API extension examples show how to:</p>
<ul>
<li>Customize response with additional header, cookie and response code</li>
<li>Get resource return a simple echo of query parameters</li>
<li>Use a SLF4J logger</li>
<li>Post resources with Json payload and return a simple echo of parameters</li>
<li>Return an XML content with specific media type and character set</li>
<li>Call to external SOAP webservice (requires internet connexion)</li>
</ul>
<p>Another REST API extension example with SQL data source is available on <a href="http://community.bonitasoft.com/project/data-source-rest-api-extension">Bonitasoft Community</a>. This example show how to execute SQL queries on a external database.</p>
